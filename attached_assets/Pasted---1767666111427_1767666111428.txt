🔴 현재 세로 스크롤이 죽은 “진짜 원인”
한 줄 요약

👉 “스크롤을 담당해야 할 요소가 더 이상 스크롤할 수 없는 상태”

브라우저의 세로 스크롤은 다음 조건이 모두 충족되어야 작동합니다:

1️⃣ html 또는 body가 overflow-y: auto/visible
2️⃣ 스크롤 컨테이너 높이 > viewport 높이
3️⃣ 중간 조상 요소가 스크롤을 차단하지 않음


지금은 2번 또는 3번이 깨졌습니다.

🔥 가장 치명적인 원인 TOP 3
🥇 1. pin-spacer { overflow: hidden } (거의 확정)

이 부분이 가장 위험합니다.

.pin-spacer {
    max-width: 100% !important;
    overflow: hidden !important;
}

왜 이게 세로 스크롤을 죽이나?

GSAP의 pin-spacer는:

스크롤 길이를 “대신” 만들어주는 요소

height가 매우 큼 (예: 300vh, 400vh)

body 스크롤의 핵심 구성 요소

그런데 여기에:

overflow: hidden !important;


을 주면?

➡ pin-spacer 내부 콘텐츠가 스크롤 컨텍스트에서 잘려버림
➡ 브라우저는 “스크롤할 게 없다”고 판단
➡ 휠 이벤트는 먹지만 위치 변화 없음

📌 특히 !important 때문에
GSAP이 동적으로 계산한 레이아웃을 강제로 무시함

👉 이 한 줄만으로도 세로 스크롤 완전 사망 가능

🥈 2. width 100% 변경 + pin 구조에서 height 계산 붕괴

다음 조합이 동시에 발생했을 가능성이 큽니다:

width: 100vw → 100%

.horizontal-scroll-track { width: 200% }

.scroll-panel { width: 100% }

GSAP pin 사용

문제는 width 변경 자체가 아니라
👉 height 계산이 width 기준으로 엮여 있었을 가능성

예시 (실제 많이 발생):

end: () => panels.length * panel.offsetWidth


또는

const scrollLength = track.scrollWidth - window.innerWidth;


이런 코드가 있으면:

width 기준이 바뀌는 순간

end 값이 0 또는 음수

ScrollTrigger가 영구 pin 상태

➡ 결과: 세로 스크롤 멈춤

🥉 3. overflow-x hidden을 잘못된 컨테이너에 적용

이건 “많이 하는 실수”입니다.

지금 적용한 건:

html, body {
  overflow-x: hidden;
}


👉 이 자체는 정상

❌ 하지만 다음 중 하나라도 있었으면 위험:

#main-container { overflow: hidden; }

.horizontal-scroll-wrapper { overflow: hidden; height: 100vh; }

.visual-section { height: 100vh; overflow: hidden; } (중첩)

📌 부모 중 하나라도 overflow + height 제한이 있으면
→ 자식 pin-spacer가 아무리 커도
→ body는 스크롤할 게 없다고 판단

❗ 이번 수정에서 “고려되지 않은 핵심 포인트”
1️⃣ pin-spacer는 “절대 CSS로 통제하면 안 되는 영역”

pin-spacer는 GSAP의 내부 계산 결과물입니다.

✅ 허용되는 것:

background-color 지정

pointer-events 제어 (드물게)

❌ 금지:

overflow

width / max-width

display

position

padding / margin

👉 pin-spacer를 CSS로 손대는 순간 스크롤은 언제든 죽을 수 있음

2️⃣ 가로 스크롤 제거 ≠ 모든 width를 100%로 바꾸는 것

올바른 사고 순서는 이겁니다:

❌ width 문제 → CSS 일괄 수정
✅ "누가 viewport를 넘치는가?"를 먼저 파악


대부분의 가로 스크롤 원인은:

100vw

translateX + width 계산

pin-spacer의 inline style

position: fixed 요소

👉 모든 섹션 width를 건드릴 필요는 거의 없음

3️⃣ “스크롤을 만드는 요소”가 무엇인지 확인 안 함

지금 구조에서 실제 스크롤을 만드는 것은:

body ❌

main ❌

section ❌

👉 pin-spacer + GSAP end 거리

즉:

세로 스크롤 = GSAP이 만든 가짜 스크롤

그런데 이걸 CSS로 막아버림 → 스크롤 사망