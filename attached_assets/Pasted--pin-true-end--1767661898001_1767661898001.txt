ìˆœìœ„ ì›ì¸ â€” pin: true + end ê³„ì‚° ì‹¤íŒ¨ (ê°€ì¥ ìœ ë ¥)
ì¦ìƒê³¼ ì •í™•íˆ ì¼ì¹˜

íœ ì„ ëŒë ¤ë„ ì•„ë¬´ ë°˜ì‘ ì—†ìŒ

ë§ˆìš°ìŠ¤ë¡œ ë“œë˜ê·¸í•˜ë©´ ê°„í˜¹ ì›€ì§ì„

ëª¨ë°”ì¼/íŠ¸ë™íŒ¨ë“œì—ì„œë„ ë™ì¼

ì™œ ì´ëŸ° ì¼ì´ ìƒê¸°ë‚˜

GSAP ScrollTriggerëŠ” pin: true ìƒíƒœì¼ ë•Œ:

â€œì´ êµ¬ê°„ì—ì„œëŠ” ë‚´ê°€ ìŠ¤í¬ë¡¤ì„ ëŒ€ì‹  ê´€ë¦¬í•œë‹¤â€

ë¼ê³  ì„ ì–¸í•©ë‹ˆë‹¤.

ê·¸ëŸ°ë° â—
end ê°’ì´ 0, NaN, undefined, ë„ˆë¬´ ì‘ìŒ â†’
ğŸ‘‰ ScrollTriggerê°€ ì˜ì›íˆ pin ìƒíƒœë¥¼ ìœ ì§€
ğŸ‘‰ ë¸Œë¼ìš°ì €ëŠ” ìŠ¤í¬ë¡¤ì„ ë„˜ê¸¸ ìˆ˜ ì—†ìŒ
ğŸ‘‰ íœ  ì…ë ¥ì€ ë¨¹ì§€ë§Œ ìœ„ì¹˜ ë³€í™” ì—†ìŒ

íŠ¹íˆ ìœ„í—˜í•œ ì½”ë“œ íŒ¨í„´
end: () => `+=${panels.length * window.innerHeight}`


ì´ë•Œ:

panels.length === 0

window.innerHeight === 0 (SSR, ì´ˆê¸°í™” íƒ€ì´ë°)

selectorê°€ ì•„ì§ DOMì— ì—†ìŒ

â¡ ê²°ê³¼:

end: "+=0"


ë˜ëŠ”

end: "+=NaN"


â¡ ìŠ¤í¬ë¡¤ ì™„ì „ ì‚¬ë§

ì¦‰ì‹œ í™•ì¸ ë°©ë²• (ì½˜ì†”)
ScrollTrigger.getAll().forEach(st => {
  console.log(st.vars.trigger, st.end);
});


ğŸ‘‰ end ê°’ì´ 0 / NaN / undefined í•˜ë‚˜ë¼ë„ ìˆìœ¼ë©´ ì›ì¸ í™•ì •

ğŸ”´ 2ìˆœìœ„ ì›ì¸ â€” ScrollTrigger.kill() í›„ ì¬ì´ˆê¸°í™” ëˆ„ë½

ë„¤ ê²°ë¡ ì—ì„œ ì´ ì½”ë“œê°€ ìˆì—ˆì£ :

ScrollTrigger.getAll().forEach(st => st.kill());

ë¬¸ì œëŠ” ì´ ë‹¤ìŒì…ë‹ˆë‹¤

âŒ killë§Œ í•˜ê³  ë‹¤ì‹œ create ì•ˆ í•œ ê²½ìš°

ì´ëŸ¬ë©´:

bodyëŠ” ì—¬ì „íˆ overflow: hidden

Lenis / GSAPì€ ìŠ¤í¬ë¡¤ì„ ê°€ë¡œì±„ëŠ” ìƒíƒœ

í•˜ì§€ë§Œ ì‹¤ì œë¡œ ìŠ¤í¬ë¡¤ì„ ì²˜ë¦¬í•˜ëŠ” íŠ¸ë¦¬ê±°ëŠ” ì—†ìŒ

â¡ íœ  ì…ë ¥ = ë¸”ë™í™€

íŠ¹íˆ ìœ„í—˜í•œ êµ¬ì¡°
onPageEnter() {
  ScrollTrigger.getAll().forEach(st => st.kill());
  // âŒ setupScrollTriggers() í˜¸ì¶œ ì•ˆ í•¨
}

ì²´í¬ í¬ì¸íŠ¸

í˜ì´ì§€ ì§„ì… ì‹œ

ScrollTrigger create í•¨ìˆ˜ê°€ ë°˜ë“œì‹œ ë‹¤ì‹œ ì‹¤í–‰ë˜ëŠ”ê°€

SPA / PJAX / Barba / Swup ì‚¬ìš© ì¤‘ì´ë©´ 99% ì—¬ê¸°

ğŸ”´ 3ìˆœìœ„ ì›ì¸ â€” overflow: hiddenì´ body/htmlì— ê³ ì •ë¨

3ë²ˆ ë¶„ì„ì—ì„œ ì´ê±¸ ì¶”ê°€í–ˆì„ ê°€ëŠ¥ì„±ì´ í½ë‹ˆë‹¤:

html, body {
  overflow-x: hidden;
}


âš ï¸ ì´ê²Œ ì˜ë„ì¹˜ ì•Šê²Œ ì´ë ‡ê²Œ ë³€í–ˆì„ ê°€ëŠ¥ì„±

html, body {
  overflow: hidden; /* â† xê°€ ì•„ë‹ˆë¼ ì „ì²´ */
}


ë˜ëŠ” JSì—ì„œ:

document.body.style.overflow = 'hidden';


ì´ê²Œ pin í•´ì œ ì‹œ ë³µêµ¬ë˜ì§€ ì•Šìœ¼ë©´ íœ ì€ ì˜ì›íˆ ì•ˆ ë¨¹ìŠµë‹ˆë‹¤.

ì¦‰ì‹œ í™•ì¸

ì½˜ì†”ì— ì…ë ¥:

getComputedStyle(document.body).overflow
getComputedStyle(document.documentElement).overflow


ğŸ‘‰ hiddenì´ë©´ ì›ì¸ í™•ì •

ğŸ”´ 4ìˆœìœ„ ì›ì¸ â€” Lenis / Smooth Scroll ì´ˆê¸°í™” ì¶©ëŒ

ì§€ê¸ˆ êµ¬ì¡°ìƒ Lenis ì‚¬ìš© ì¤‘ì¼ ê°€ëŠ¥ì„± ë§¤ìš° ë†’ìŒ

ì¹˜ëª…ì ì¸ íŒ¨í„´
const lenis = new Lenis();

ScrollTrigger.addEventListener("refresh", () => lenis.update());


ì´ ìƒíƒœì—ì„œ:

ScrollTriggerë¥¼ kill

LenisëŠ” ì‚´ì•„ ìˆìŒ

RAF ë£¨í”„ê°€ ëŠê¹€ or ì¤‘ë³µë¨

â¡ Lenisê°€ íœ  ì´ë²¤íŠ¸ë¥¼ ê°€ë¡œì±„ê³  ì•„ë¬´ ê²ƒë„ ì•ˆ í•¨

ì²´í¬
window.lenis


ìˆë‹¤ë©´:

lenis.destroy();


ë˜ëŠ”

lenis.start();


ì•ˆ í•˜ë©´ ìŠ¤í¬ë¡¤ ì•ˆ ëŒì•„ì˜µë‹ˆë‹¤.

ğŸ”´ 5ìˆœìœ„ ì›ì¸ â€” passive: false íœ  ì´ë²¤íŠ¸ ì°¨ë‹¨

ì•„ì£¼ ì¹˜ëª…ì ì¸ ì½”ë“œê°€ í•˜ë‚˜ ìˆìŠµë‹ˆë‹¤:

window.addEventListener('wheel', e => e.preventDefault(), { passive: false });


ë˜ëŠ” horizontal scroll êµ¬í˜„ ì¤‘:

wheelHandler(e) {
  e.preventDefault();
}


pinì´ ëë‚¬ëŠ”ë°ë„ ì´ ë¦¬ìŠ¤ë„ˆê°€ ì‚´ì•„ ìˆìœ¼ë©´:
â¡ íœ  = ë¬´íš¨

ì½˜ì†” í…ŒìŠ¤íŠ¸
getEventListeners(window).wheel


wheel ë¦¬ìŠ¤ë„ˆê°€ ë‚¨ì•„ ìˆìœ¼ë©´ ë°”ë¡œ ë²”ì¸