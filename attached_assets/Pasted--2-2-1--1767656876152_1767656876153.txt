ì§€ê¸ˆ ë¬¸ì œë¥¼ ë‹¤ë¥¸ ì‹œê°ìœ¼ë¡œ ë°”ë¼ë³¸ 2ê°œì˜ ë¶„ì„ì„ ì•Œë ¤ì¤„ê²Œ.
ì•„ë˜ 2ê°œì˜ ë¶„ì„ê³¼ ë„ˆê°€ í–ˆë˜ ë¶„ì„ì„ ë°”íƒ•ìœ¼ë¡œ ê°€ì¥ í•©ë¦¬ì ì¸ ì›ì¸ì´ ì–´ë–¤ê²ƒì¸ì§€ í™•ì¸í•´ì¤˜.
------
1ë²ˆë¶„ì„.


## ğŸ”§ ìˆ˜ì • 1: setupScrollEffects() í•¨ìˆ˜ ê°œì„ 

### **ê±´ë“œë¦° ìš”ì†Œ:**
1. `handleScroll()` í•¨ìˆ˜ ë‚´ë¶€ì˜ ì¡°ê±´ë¬¸ ë¡œì§
2. `isDiagnosisHorizontal` ë³€ìˆ˜ ì¶”ê°€
3. `isTreatmentIntro` ë³€ìˆ˜ ì¶”ê°€

### **ì™œ ì‘ë™í•˜ëŠ”ê°€:**

**ì›ë˜ ë¬¸ì œ:**
```javascript
// ê¸°ì¡´ ì½”ë“œ
if (document.body.classList.contains('has-sub-hero')) {
    // Scroll progress barë§Œ ì—…ë°ì´íŠ¸
    if (scrollProgress) {
        const scrollPercent = (scrollTop / (scrollHeight - clientHeight)) * 100;
        scrollProgress.style.width = Math.min(scrollPercent, 100) + '%';
    }
    return;
}
```
- ì´ ì½”ë“œëŠ” **ëª¨ë“ ** `has-sub-hero` í˜ì´ì§€ì—ì„œ í—¤ë” ì²˜ë¦¬ë¥¼ ê±´ë„ˆë›°ì—ˆìŠµë‹ˆë‹¤
- í•˜ì§€ë§Œ diagnosisì™€ treatmentëŠ” **íŠ¹ì • ì˜ì—­ì—ì„œë§Œ** ê±´ë„ˆë›°ì–´ì•¼ í–ˆìŠµë‹ˆë‹¤

**ìˆ˜ì • í›„:**
```javascript
// 1ë‹¨ê³„: Diagnosis í˜ì´ì§€ì˜ horizontal scroll ì˜ì—­ ê°ì§€
const isDiagnosisHorizontal = 
    document.body.classList.contains('has-sub-hero') &&  // â‘  has-sub-hero í´ë˜ìŠ¤ í™•ì¸
    document.querySelector('.horizontal-scroll-outer') &&  // â‘¡ diagnosis í˜ì´ì§€ì„ì„ í™•ì¸
    scrollTop < document.querySelector('.horizontal-scroll-outer').offsetHeight;  // â‘¢ ì•„ì§ horizontal scroll ì˜ì—­ ì•ˆì— ìˆìŒ

// 2ë‹¨ê³„: Treatment í˜ì´ì§€ì˜ ì¸íŠ¸ë¡œ ì„¹ì…˜ ê°ì§€
const isTreatmentIntro = 
    document.body.classList.contains('has-sub-hero') &&
    document.querySelector('.treatment-intro-section') &&  // treatment í˜ì´ì§€ í™•ì¸
    scrollTop < (document.querySelector('.treatment-intro-section').offsetHeight * 4);  // ScrollTriggerì˜ end: '+=300%' ê³ ë ¤
```

**ì‘ë™ ì›ë¦¬:**
- **ì˜ì—­ êµ¬ë¶„**: í˜ì´ì§€ ì „ì²´ê°€ ì•„ë‹Œ "íŠ¹ì • ìŠ¤í¬ë¡¤ ì˜ì—­"ë§Œ ì²´í¬
- **scrollTop ë¹„êµ**: í˜„ì¬ ìŠ¤í¬ë¡¤ ìœ„ì¹˜ê°€ íŠ¹ìˆ˜ ì˜ì—­ ì•ˆì¸ì§€ ë°–ì¸ì§€ íŒë‹¨
- **ì¡°ê¸° return**: íŠ¹ìˆ˜ ì˜ì—­ì—ì„œëŠ” í—¤ë” ìƒíƒœ ë³€ê²½ì„ í•˜ì§€ ì•Šê³  ë¹ ì ¸ë‚˜ê°

**ì™œ í—¤ë”ê°€ íˆ¬ëª…í•˜ê²Œ ìœ ì§€ë˜ë‚˜:**
- `isDiagnosisHorizontal`ì´ë‚˜ `isTreatmentIntro`ê°€ `true`ì¼ ë•ŒëŠ” `return`ìœ¼ë¡œ í•¨ìˆ˜ë¥¼ ë¹ ì ¸ë‚˜ê°€ë¯€ë¡œ
- ì•„ë˜ì˜ `header.classList.add('scrolled')` ì½”ë“œê°€ ì‹¤í–‰ë˜ì§€ ì•ŠìŒ
- ë”°ë¼ì„œ `.scrolled` í´ë˜ìŠ¤ê°€ ì¶”ê°€ë˜ì§€ ì•Šì•„ í—¤ë”ê°€ íˆ¬ëª… ìƒíƒœ ìœ ì§€

---

## ğŸ”§ ìˆ˜ì • 2: setupHorizontalScroll() í—¤ë” ì²˜ë¦¬

### **ê±´ë“œë¦° ìš”ì†Œ:**
1. `handleScroll()` ë‚´ë¶€ì˜ í—¤ë” ìƒíƒœ ë³€ê²½ ë¡œì§
2. `equipmentNarrative` ìš”ì†Œì˜ ìœ„ì¹˜ ê³„ì‚°
3. `hasEnteredVerticalSection` í”Œë˜ê·¸ì˜ ì—…ë°ì´íŠ¸ ì¡°ê±´

### **ì™œ ì‘ë™í•˜ëŠ”ê°€:**

**ì›ë˜ ë¬¸ì œ:**
```javascript
// ê¸°ì¡´ ì½”ë“œ
if (overallProgress >= 1) {  // horizontal scrollì´ ì™„ë£Œë˜ë©´
    if (!hasEnteredVerticalSection) {
        hasEnteredVerticalSection = true;
        document.body.classList.add('sub-hero-passed');  // ì¦‰ì‹œ í—¤ë” ë¶ˆíˆ¬ëª…
    }
}
```
- `overallProgress >= 1`ì€ horizontal scrollì´ **ëë‚˜ëŠ” ìˆœê°„** ì²´í¬
- í•˜ì§€ë§Œ ìŠ¬ë¡œê±´ ì„¹ì…˜ì€ ì•„ì§ í™”ë©´ì— ìˆëŠ” ìƒíƒœ
- ë”°ë¼ì„œ í—¤ë”ê°€ ë„ˆë¬´ ì¼ì° ë¶ˆíˆ¬ëª…í•´ì§

**ìˆ˜ì • í›„:**
```javascript
// Equipment narrative ìš”ì†Œì˜ ì‹¤ì œ í™”ë©´ ìœ„ì¹˜ë¡œ íŒë‹¨
const equipmentNarrative = document.querySelector('.equipment-narrative');
if (equipmentNarrative) {
    const equipmentRect = equipmentNarrative.getBoundingClientRect();  // â‘  í˜„ì¬ í™”ë©´ì—ì„œì˜ ìœ„ì¹˜ ê³„ì‚°
    const headerHeight = parseInt(getComputedStyle(document.documentElement).getPropertyValue('--header-height')) || 90;
    
    // â‘¡ equipment narrativeê°€ í—¤ë” ì•„ë˜ë¡œ ë“¤ì–´ì™”ì„ ë•Œë§Œ í™œì„±í™”
    if (equipmentRect.top <= headerHeight) {
        if (!hasEnteredVerticalSection) {
            hasEnteredVerticalSection = true;
            document.body.classList.add('sub-hero-passed');
        }
    }
}
```

**ì‘ë™ ì›ë¦¬:**
- **getBoundingClientRect()**: ìš”ì†Œì˜ í˜„ì¬ viewport ìƒì˜ ìœ„ì¹˜ë¥¼ í”½ì…€ ë‹¨ìœ„ë¡œ ë°˜í™˜
- **equipmentRect.top**: equipment narrativeì˜ ìƒë‹¨ì´ viewportì˜ ë§¨ ìœ„ë¡œë¶€í„° ì–¼ë§ˆë‚˜ ë–¨ì–´ì ¸ ìˆëŠ”ì§€
- **ì¡°ê±´ `<= headerHeight`**: equipment narrativeê°€ í—¤ë”ë¥¼ ì§€ë‚˜ì³ì„œ ë“¤ì–´ì˜¬ ë•Œë§Œ true

**ì‹œë‚˜ë¦¬ì˜¤:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Header (90px) â”‚  â† headerHeight
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                 â”‚
â”‚  Slogan Section â”‚  â† equipmentRect.top = 200px (ì•„ì§ ì•„ë˜ì— ìˆìŒ)
â”‚   (visible)     â”‚     â†’ sub-hero-passed ì¶”ê°€ ì•ˆë¨ (í—¤ë” íˆ¬ëª…)
â”‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ìŠ¤í¬ë¡¤ ë‹¤ìš´ â†“

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Header (90px) â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â† equipmentRect.top = 90px (í—¤ë” ë°”ë¡œ ì•„ë˜)
â”‚  Equipment      â”‚     â†’ ì—¬ê¸°ì„œ sub-hero-passed ì¶”ê°€! (í—¤ë” ë¶ˆíˆ¬ëª…)
â”‚  Narrative      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”§ ìˆ˜ì • 3: setupEquipmentNarrative() ìŠ¤í¬ë¡¤ ê°œì„ 

### **ê±´ë“œë¦° ìš”ì†Œ:**
1. `requestAnimationFrame` ì¶”ê°€ë¡œ ìŠ¤í¬ë¡¤ ì´ë²¤íŠ¸ throttling
2. `ticking` í”Œë˜ê·¸ë¡œ ì¤‘ë³µ ì‹¤í–‰ ë°©ì§€
3. í™œì„±í™” ì˜ì—­ì„ `viewportTop` (30%)ìœ¼ë¡œ í™•ì¥
4. ìƒíƒœ ì—…ë°ì´íŠ¸ë¥¼ í•œ ë²ˆì— ì¼ê´„ ì²˜ë¦¬

### **ì™œ ì‘ë™í•˜ëŠ”ê°€:**

**ì›ë˜ ë¬¸ì œ:**
```javascript
// ê¸°ì¡´ ì½”ë“œ
function handleEquipmentScroll() {
    const viewportMiddle = window.innerHeight / 2;
    
    steps.forEach((step, index) => {
        const rect = step.getBoundingClientRect();
        
        if (rect.top < viewportMiddle && rect.bottom > viewportMiddle) {
            // ì¦‰ì‹œ DOM ì¡°ì‘ (ë¹„íš¨ìœ¨ì )
            steps.forEach(s => s.classList.remove('active'));
            step.classList.add('active');
            images.forEach((img, i) => {
                img.classList.toggle('active', i === index);
            });
        }
    });
}

window.addEventListener('scroll', handleEquipmentScroll);  // ìŠ¤í¬ë¡¤ë§ˆë‹¤ ì¦‰ì‹œ ì‹¤í–‰
```

**ë¬¸ì œì :**
1. **ê³¼ë„í•œ DOM ì¡°ì‘**: ìŠ¤í¬ë¡¤ ì´ë²¤íŠ¸ëŠ” 1ì´ˆì— ìˆ˜ì‹­~ìˆ˜ë°± ë²ˆ ë°œìƒ â†’ ë§¤ë²ˆ `classList` ì¡°ì‘
2. **ë ˆì´ì•„ì›ƒ ìŠ¤ë˜ì‹±**: `getBoundingClientRect()` í˜¸ì¶œ í›„ ì¦‰ì‹œ `classList` ë³€ê²½ â†’ ë¸Œë¼ìš°ì € reflow ê°•ì œ ë°œë™
3. **Lenisì™€ ì¶©ëŒ**: Smooth scrollì´ ì§„í–‰ ì¤‘ì¸ë° DOMì´ ê³„ì† ë³€ê²½ë˜ë©´ scroll position ì¬ê³„ì‚° ë°œìƒ

**ìˆ˜ì • í›„:**
```javascript
// 1ë‹¨ê³„: Throttle í”Œë˜ê·¸
let ticking = false;

function handleEquipmentScroll() {
    if (ticking) return;  // â‘  ì´ë¯¸ ì²˜ë¦¬ ì¤‘ì´ë©´ ë¬´ì‹œ
    
    ticking = true;
    requestAnimationFrame(() => {  // â‘¡ ë‹¤ìŒ paint ì „ì— ì‹¤í–‰ ì˜ˆì•½
        const viewportMiddle = window.innerHeight / 2;
        const viewportTop = window.innerHeight * 0.3;  // â‘¢ ë” ì¼ì° ê°ì§€
        
        let activeIndex = 0;
        
        // â‘£ í™œì„± ì¸ë±ìŠ¤ë§Œ ì°¾ê¸° (DOM ì¡°ì‘ ì•ˆí•¨)
        steps.forEach((step, index) => {
            const rect = step.getBoundingClientRect();
            if (rect.top < viewportMiddle && rect.bottom > viewportTop) {
                activeIndex = index;
            }
        });
        
        // â‘¤ í•œ ë²ˆì— ëª¨ë“  ìƒíƒœ ì—…ë°ì´íŠ¸
        steps.forEach((step, index) => {
            step.classList.toggle('active', index === activeIndex);
        });
        images.forEach((img, index) => {
            img.classList.toggle('active', index === activeIndex);
        });
        
        ticking = false;  // â‘¥ ë‹¤ìŒ ì‹¤í–‰ í—ˆìš©
    });
}
```

**ì‘ë™ ì›ë¦¬:**

**requestAnimationFrameì˜ ë§ˆë²•:**
```
ìŠ¤í¬ë¡¤ ì´ë²¤íŠ¸ ë°œìƒ (60fps ê¸°ì¤€ 16.67msë§ˆë‹¤)
    â†“
ticking = true (ë½ ê±¸ë¦¼)
    â†“
requestAnimationFrame ì˜ˆì•½ (ë‹¤ìŒ paint ì‚¬ì´í´ê¹Œì§€ ëŒ€ê¸°)
    â†“
ì¤‘ê°„ì— ë°œìƒí•œ ìŠ¤í¬ë¡¤ ì´ë²¤íŠ¸ë“¤ì€ if (ticking) returnìœ¼ë¡œ ë¬´ì‹œë¨
    â†“
ë¸Œë¼ìš°ì €ê°€ ë‹¤ìŒ frameì„ ê·¸ë¦¬ê¸° ì§ì „ì— ì‹¤í–‰
    â†“
í•œ ë²ˆì— ëª¨ë“  ê³„ì‚° + DOM ì—…ë°ì´íŠ¸
    â†“
ticking = false (ë½ í•´ì œ)
```

**ì™œ ìŠ¤í¬ë¡¤ì´ ë§‰íˆì§€ ì•ŠëŠ”ê°€:**
1. **60fps ë™ê¸°í™”**: ë¸Œë¼ìš°ì €ì˜ paint cycleê³¼ ë™ê¸°í™”ë˜ì–´ ë¶€ë“œëŸ¬ìš´ ì• ë‹ˆë©”ì´ì…˜
2. **ë‹¨ì¼ reflow**: DOM ì¡°ì‘ì´ í•œ ë²ˆì— ì¼ê´„ ì²˜ë¦¬ë˜ì–´ ë ˆì´ì•„ì›ƒ ì¬ê³„ì‚°ë„ 1íšŒë§Œ
3. **Lenis í˜¸í™˜**: Smooth scrollì˜ ì§„í–‰ì„ ë°©í•´í•˜ì§€ ì•ŠìŒ

**viewportTop (30%) í™•ì¥ì˜ íš¨ê³¼:**
```
ê¸°ì¡´: rect.top < 50% && rect.bottom > 50%  (ì •í™•íˆ ì¤‘ì•™ì—ë§Œ í™œì„±í™”)
     â†“ ìŠ¤í¬ë¡¤ ì†ë„ê°€ ë¹ ë¥´ë©´ ì¤‘ì•™ì„ ê±´ë„ˆë›¸ ìˆ˜ ìˆìŒ
     
ìˆ˜ì •: rect.top < 50% && rect.bottom > 30%  (30%~50% ë²”ìœ„ì—ì„œ í™œì„±í™”)
     â†“ ë” ë„“ì€ ë²”ìœ„ = ê°ì§€ ëˆ„ë½ ë°©ì§€
```

---

## ğŸ”§ ìˆ˜ì • 4: setupTreatmentIntroZoom() ìˆ˜ì •

### **ê±´ë“œë¦° ìš”ì†Œ:**
1. ScrollTriggerì˜ `onUpdate` ì½œë°± ì¶”ê°€
2. `onEnter`/`onLeave` ì½œë°±ì˜ `sub-hero-passed` ê´€ë¦¬ ë¡œì§ ë³€ê²½
3. `subHeroSticky.style.visibility` ì œì–´ íƒ€ì´ë°

### **ì™œ ì‘ë™í•˜ëŠ”ê°€:**

**ì›ë˜ ë¬¸ì œ:**
```javascript
// ê¸°ì¡´ ì½”ë“œ
scrollTrigger: {
    trigger: introSection,
    start: 'top top',
    end: '+=300%',
    pin: true,
    pinSpacing: true,
    scrub: 1,
    onEnter: () => {
        document.body.classList.remove('sub-hero-passed');
        if (subHeroSticky) subHeroSticky.style.visibility = 'hidden';  // â‘  ë°”ë¡œ ìˆ¨ê¹€
    },
    // onLeaveê°€ ì—†ìŒ â†’ pin í•´ì œ ì‹œì ì— sub-hero-passed ê´€ë¦¬ ì•ˆë¨
}
```

**ë¬¸ì œì˜ ì—°ì‡„ ë°˜ì‘:**
```
1. ìŠ¤í¬ë¡¤ ì‹œì‘
   â†“
2. onEnter ë°œë™ â†’ sticky sub-hero ë°”ë¡œ ìˆ¨ê¹€
   â†“
3. í•˜ì§€ë§Œ í—¤ë”ëŠ” ì—¬ì „íˆ íˆ¬ëª… (sub-hero-passedê°€ ì—†ìŒ)
   â†“
4. Pinì´ í•´ì œë˜ëŠ” ì‹œì ì— í—¤ë” ìƒíƒœ ê´€ë¦¬ ì•ˆë¨
   â†“
5. setupScrollEffects()ì˜ ì¡°ê±´ë¬¸ì´ isTreatmentIntroë¥¼ ì²´í¬í•˜ì§€ë§Œ
   scrollTop < (introë†’ì´ * 4) ì¡°ê±´ì´ ì• ë§¤í•˜ê²Œ ì‘ë™
```

**ìˆ˜ì • í›„:**
```javascript
scrollTrigger: {
    trigger: introSection,
    start: 'top top',
    end: '+=300%',
    pin: true,
    pinSpacing: true,
    scrub: 1,
    onUpdate: (self) => {  // â‘  ìŠ¤í¬ë¡¤ ì§„í–‰ ì¤‘ ì‹¤ì‹œê°„ ì²´í¬
        if (self.progress > 0.05) {  // 5% ì§„í–‰ í›„ì— ìˆ¨ê¹€
            if (subHeroSticky) subHeroSticky.style.visibility = 'hidden';
        }
    },
    onLeave: () => {  // â‘¡ Pinì´ í•´ì œë  ë•Œ (ì• ë‹ˆë©”ì´ì…˜ ì™„ì „ ì¢…ë£Œ)
        document.body.classList.add('sub-hero-passed');  // ì—¬ê¸°ì„œ í—¤ë” ë¶ˆíˆ¬ëª… í™œì„±í™”
    },
    onEnterBack: () => {  // â‘¢ ì—­ë°©í–¥ ìŠ¤í¬ë¡¤ë¡œ ëŒì•„ì˜¬ ë•Œ
        document.body.classList.remove('sub-hero-passed');
        if (subHeroSticky) subHeroSticky.style.visibility = 'hidden';
    },
    onLeaveBack: () => {  // â‘£ ì™„ì „íˆ ë§¨ ìœ„ë¡œ ëŒì•„ê°ˆ ë•Œ
        if (subHeroSticky) subHeroSticky.style.visibility = 'visible';  // sticky ë‹¤ì‹œ ë³´ì„
        document.body.classList.remove('sub-hero-passed');
    }
}
```

**ScrollTrigger ìƒëª…ì£¼ê¸°:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Scroll Direction                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                          â”‚
â”‚  [Before Start]                                          â”‚
â”‚       â†“ scroll down                                      â”‚
â”‚  onEnter (start ì§€ì  ì§„ì…) â† onLeaveBack (ì—­ë°©í–¥ ì´íƒˆ)  â”‚
â”‚       â†“                              â†‘                   â”‚
â”‚  [Pinned Area - onUpdate ê³„ì† ë°œë™]                      â”‚
â”‚       â†“                              â†‘                   â”‚
â”‚  onLeave (end ì§€ì  ì´íƒˆ) â† onEnterBack (ì—­ë°©í–¥ ì§„ì…)    â”‚
â”‚       â†“ scroll down                                      â”‚
â”‚  [After End]                                             â”‚
â”‚                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**onUpdateì˜ ì—­í• :**
```javascript
onUpdate: (self) => {
    if (self.progress > 0.05) {  // progressëŠ” 0.0 ~ 1.0
        // ì• ë‹ˆë©”ì´ì…˜ ì‹œì‘ í›„ 5%ë§Œ ì§„í–‰í•´ë„ sticky sub-hero ìˆ¨ê¹€
        // ì´ë ‡ê²Œ í•˜ë©´ intro sectionì˜ ë°°ê²½ì´ ë¹¨ë¦¬ ë³´ì„
    }
}
```

**ì™œ í•˜ì–€ í™”ë©´ì´ ì‚¬ë¼ì§€ëŠ”ê°€:**
```css
/* style.css */
.treatment-content-overlap {
    position: relative;
    z-index: 2;
    background: var(--bg-color);  /* â† ì´ ë°°ê²½ìƒ‰ ì¶”ê°€ */
    min-height: 100vh;
}
```
- ê¸°ì¡´: `background` ì—†ìŒ â†’ pin í•´ì œ ì‹œ intro sectionì´ ì‚¬ë¼ì§€ë©´ ë’¤ì— ì•„ë¬´ê²ƒë„ ì—†ì–´ì„œ í•˜ì–—ê²Œ ë³´ì„
- ìˆ˜ì •: `background: var(--bg-color)` â†’ intro sectionì´ ì‚¬ë¼ì ¸ë„ ë‹¤ìŒ ì„¹ì…˜ì˜ ë°°ê²½ì´ ë³´ì„

---

## ğŸ”§ ìˆ˜ì • 5: ê°€ë¡œ ìŠ¤í¬ë¡¤ ì œê±° (100vw â†’ 100%)

### **ê±´ë“œë¦° ìš”ì†Œ:**
1. `.visual-section`, `.sub-hero`, `.horizontal-scroll-wrapper` ë“±ì˜ `width` ì†ì„±
2. `.horizontal-scroll-track`ì˜ `width` ì†ì„±
3. ëª¨ë“  full-width ì„¹ì…˜ë“¤

### **ì™œ ì‘ë™í•˜ëŠ”ê°€:**

**100vwì˜ í•¨ì •:**
```
ë¸Œë¼ìš°ì € ì°½ êµ¬ì¡°:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                 â”‚  â† ì‹¤ì œ viewport width (ì˜ˆ: 1920px)
â”‚        Content Area             â”‚
â”‚                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”€â”€â”
â”‚                                 â”‚  â”‚ â† ìˆ˜ì§ ìŠ¤í¬ë¡¤ë°” (ì•½ 17px)
â”‚                                 â”‚  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”€â”€â”˜

100vw = 1920px (ìŠ¤í¬ë¡¤ë°” í¬í•¨í•˜ì§€ ì•ŠìŒ)
100% = 1903px (ìŠ¤í¬ë¡¤ë°”ë¥¼ ëº€ ì‹¤ì œ ì‚¬ìš© ê°€ëŠ¥ ë„ˆë¹„)

ê²°ê³¼: 100vw ì‚¬ìš© ì‹œ 1920px - 1903px = 17pxì˜ ê°€ë¡œ ì˜¤ë²„í”Œë¡œìš° ë°œìƒ!
```

**CSS Box Model ê³„ì‚°:**
```css
/* ê¸°ì¡´ ë¬¸ì œ */
.visual-section {
    width: 100vw;  /* = 1920px */
}

body {
    width: 100%;   /* = 1903px (ìŠ¤í¬ë¡¤ë°” ì œì™¸) */
}

/* ê²°ê³¼ */
.visual-sectionì˜ ë„ˆë¹„ > bodyì˜ ë„ˆë¹„
â†’ ê°€ë¡œ ìŠ¤í¬ë¡¤ë°” ìƒì„±
```

**ìˆ˜ì • í›„:**
```css
.visual-section {
    width: 100%;       /* ë¶€ëª¨(body)ì˜ ë„ˆë¹„ë¥¼ ë”°ë¦„ = 1903px */
    max-width: 100%;   /* í˜¹ì‹œ ëª¨ë¥¼ overflow ë°©ì§€ */
}
```

**íŠ¹íˆ ì¤‘ìš”í•œ ì¼€ì´ìŠ¤: horizontal-scroll-track**
```css
/* ê¸°ì¡´ */
.horizontal-scroll-track {
    width: 200vw;  /* = 3840px */
}

/* ê° panel */
.scroll-panel {
    width: 100vw;  /* = 1920px */
}

/* ê³„ì‚° */
track width = panel1 (1920px) + panel2 (1920px) = 3840px
í•˜ì§€ë§Œ ì‹¤ì œ viewport = 1903px
â†’ ì²« panelì—ì„œ ì´ë¯¸ 17px ë„˜ì¹¨
â†’ translateX ê³„ì‚° ì˜¤ë¥˜ ë°œìƒ
```

**ìˆ˜ì • í›„:**
```css
.horizontal-scroll-track {
    width: 200%;  /* ë¶€ëª¨ wrapperì˜ 2ë°° */
}

.scroll-panel {
    width: 100%;  /* ì •í™•íˆ wrapperì™€ ê°™ì€ ë„ˆë¹„ */
}

/* JavaScriptì—ì„œ */
const translateX = -horizontalDisplayProgress * window.innerWidth;
// innerWidthëŠ” ìŠ¤í¬ë¡¤ë°”ë¥¼ ì œì™¸í•œ ì •í™•í•œ ë„ˆë¹„ ë°˜í™˜
```

---

## ğŸ”§ ìˆ˜ì • 6: Equipment Narrative ì„±ëŠ¥ ê°œì„ 

### **ê±´ë“œë¦° ìš”ì†Œ:**
1. `will-change` CSS ì†ì„± ì¶”ê°€
2. `transform: translateZ(0)` ì¶”ê°€
3. `transition` duration ë‹¨ì¶•

### **ì™œ ì‘ë™í•˜ëŠ”ê°€:**

**GPU ê°€ì†ì˜ ì›ë¦¬:**
```
CPU ë Œë”ë§ (ê¸°ë³¸):
  opacity ë³€ê²½ â†’ ë ˆì´ì–´ ì¬ê³„ì‚° â†’ ì „ì²´ í˜ì´ì§€ repaint
  â†“ ëŠë¦¬ê³  ë²„ë²…ì„

GPU ë Œë”ë§ (ê°€ì†):
  will-change: opacity â†’ ë³„ë„ ë ˆì´ì–´ ìƒì„± â†’ GPUì—ì„œ ë…ë¦½ì ìœ¼ë¡œ ì²˜ë¦¬
  â†“ ë¶€ë“œëŸ½ê³  ë¹ ë¦„
```

**will-change ì†ì„±:**
```css
.equipment-narrative {
    will-change: scroll-position;  /* â‘  ì´ ìš”ì†ŒëŠ” ìŠ¤í¬ë¡¤ ì‹œ ë³€í•  ê²ƒ */
}

.sticky-image {
    will-change: contents;  /* â‘¡ ë‚´ìš©(ìì‹ img)ì´ ë³€í•  ê²ƒ */
}

.equipment-step {
    will-change: opacity;  /* â‘¢ íˆ¬ëª…ë„ê°€ ë³€í•  ê²ƒ */
}
```

**ë¸Œë¼ìš°ì €ì˜ ìµœì í™” ì „ëµ:**
```
will-changeë¥¼ ë³´ë©´ ë¸Œë¼ìš°ì €ëŠ”:
1. í•´ë‹¹ ìš”ì†Œë¥¼ ë³„ë„ composite layerë¡œ ë¶„ë¦¬
2. GPU ë©”ëª¨ë¦¬ì— ë¯¸ë¦¬ ì—…ë¡œë“œ
3. ë³€ê²½ ì‹œ GPUì—ì„œë§Œ ì²˜ë¦¬ (CPU ê±°ì¹˜ì§€ ì•ŠìŒ)
4. ë‚˜ë¨¸ì§€ í˜ì´ì§€ëŠ” ì˜í–¥ ë°›ì§€ ì•ŠìŒ
```

**transform: translateZ(0)ì˜ ë§ˆë²•:**
```css
.sticky-image img {
    transform: translateZ(0);  /* Zì¶•ìœ¼ë¡œ 0px ì´ë™ = ì‹¤ì œë¡  ì´ë™ ì•ˆí•¨ */
    backface-visibility: hidden;
}
```

**ì™œ ì´ë ‡ê²Œ í•˜ëŠ”ê°€:**
- `translateZ`ëŠ” 3D transform â†’ ë¸Œë¼ìš°ì €ê°€ ë¬´ì¡°ê±´ GPU ë ˆì´ì–´ë¡œ ìŠ¹ê²©
- `backface-visibility: hidden` â†’ ë’·ë©´ ë Œë”ë§ ì•ˆí•¨ â†’ ì„±ëŠ¥ í–¥ìƒ
- ì‹¤ì œë¡œëŠ” ìœ„ì¹˜ê°€ ì•ˆ ë°”ë€Œì§€ë§Œ, GPU ê°€ì†ë§Œ ì–»ëŠ” íŠ¸ë¦­

**transition duration ë‹¨ì¶•:**
```css
/* ê¸°ì¡´ */
.equipment-step {
    transition: opacity 0.5s ease;  /* 0.5ì´ˆ = 30í”„ë ˆì„ */
}

/* ìˆ˜ì • */
.equipment-step {
    transition: opacity 0.3s ease;  /* 0.3ì´ˆ = 18í”„ë ˆì„ */
}
```

**ì™œ ë¹¨ë¼ì§€ëŠ”ê°€:**
- ì§§ì€ duration = ë” ë¹ ë¥¸ ìƒíƒœ ë³€í™” = ì‚¬ìš©ì ì•¡ì…˜ì— ì¦‰ê° ë°˜ì‘
- ìŠ¤í¬ë¡¤ ì¤‘ ì—¬ëŸ¬ stepì„ ë¹ ë¥´ê²Œ ì§€ë‚˜ê°ˆ ë•Œë„ ê° stepì˜ ì• ë‹ˆë©”ì´ì…˜ì´ ì„œë¡œ ê²¹ì¹˜ì§€ ì•ŠìŒ

---

## ğŸ¯ ì „ì²´ ì‹œìŠ¤í…œ ì‘ë™ ì›ë¦¬ ìš”ì•½

### **í—¤ë” ìƒíƒœ ê´€ë¦¬ Flow:**
```
1. setupScrollEffects() (ì „ì—­ ìŠ¤í¬ë¡¤ ë¦¬ìŠ¤ë„ˆ)
   â†“ ì¡°ê±´ ì²´í¬
   
2. Diagnosis í˜ì´ì§€ì¸ê°€?
   YES â†’ setupHorizontalScroll()ì˜ handleScroll()ì—ì„œ ê´€ë¦¬
   NO â†’ ë‹¤ìŒ ë‹¨ê³„ë¡œ
   
3. Treatment í˜ì´ì§€ì¸ê°€?
   YES â†’ setupTreatmentIntroZoom()ì˜ ScrollTrigger ì½œë°±ì—ì„œ ê´€ë¦¬
   NO â†’ ë‹¤ìŒ ë‹¨ê³„ë¡œ
   
4. ì¼ë°˜ sub-hero í˜ì´ì§€ì¸ê°€?
   YES â†’ setupSubHeroScrollEffect()ì—ì„œ ê´€ë¦¬
   NO â†’ setupScrollEffects()ì—ì„œ ì§ì ‘ ê´€ë¦¬
```

### **ìŠ¤í¬ë¡¤ ì´ë²¤íŠ¸ ì²˜ë¦¬ Pipeline:**
```
ì‚¬ìš©ì ìŠ¤í¬ë¡¤
    â†“
window 'scroll' event ë°œìƒ
    â†“
Lenis smooth scroll ì²˜ë¦¬ (ìˆëŠ” ê²½ìš°)
    â†“
requestAnimationFrameìœ¼ë¡œ ë‹¤ìŒ frame ì˜ˆì•½
    â†“
ë¸Œë¼ìš°ì € paint cycle ì‹œì‘
    â†“
ì˜ˆì•½ëœ DOM ì—…ë°ì´íŠ¸ ì¼ê´„ ì²˜ë¦¬
    â†“
reflow/repaint (1íšŒë§Œ)
    â†“
í™”ë©´ì— ê·¸ë¦¬ê¸°
```

### **ê°€ë¡œ ìŠ¤í¬ë¡¤ ì œê±° íš¨ê³¼:**
```
Before:
  body width: 1903px
  section width: 1920px (100vw)
  â†’ horizontal scrollbar ìƒì„±
  â†’ ëª¨ë“  ê³„ì‚° í‹€ì–´ì§

After:
  body width: 1903px
  section width: 1903px (100%)
  â†’ perfect fit
  â†’ ì •í™•í•œ ê³„ì‚°
```

ì´ëŸ¬í•œ ìˆ˜ì •ë“¤ì´ **ìœ ê¸°ì ìœ¼ë¡œ ê²°í•©**ë˜ì–´ ë¶€ë“œëŸ½ê³  ì˜ˆì¸¡ ê°€ëŠ¥í•œ ìŠ¤í¬ë¡¤ ê²½í—˜ì„ ë§Œë“¤ì–´ëƒ…ë‹ˆë‹¤.